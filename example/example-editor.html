<!DOCTYPE html>
<html>
<head>
<title>Example Editor</title>
<link rel="stylesheet" type="text/css" href="/dist/basic/contentmint.styles.css">
<link rel="stylesheet" type="text/css" href="/dist/basic/font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" type="text/css" href="/example/example-editor.css">
</head>
<body>
<!--
TODO

    - It would be nice to allow the dev to configure certain tinymce toolbars for certain
      kinds of components. Some components you don't want the user to add bulleted lists, etc.

    * App saves every time the fields 'done' button is clicked regardless of whether or not
      anything has changed. 

    - Users don't know when a dragged component can be dropped into stage (i.e. they don't
      know to wait for the mirror image to pop up). There may need to be some prompt added in.

    - [[ Drag handles are posing more of a problem than I anticipated ]]

    * Some features simply cannot be made self-explanatory, like using the contextualizing feature
      to create custom reusable components. There should probably be an icon button that pulls
      up a help modal which explains how to use the editor in a general sense. Also, README.

    - Add keyboard bindings for toolbar and sidebar views as well as save, undo, and contextualize features.

 -->


 <!-- 
    This is the data populated by whatever backend processes you choose. The
    path for the template markup should be defined in Cmint.createTemplate. Also,
    customComponents here should only be custom components created for this
    particular template. That is something that will need to be managed on the 
    back end. When the saved data is sent up to the server there will need to be
    some mechanism that stores that array in association with that template. This
    is because we don't want to load the custom components saved for every possible
    template that could exist in the project. Note that the markup for the content
    is not saved in the data.
-->
<textarea style="display: none" id="Data">
 
</textarea>
<script type="text/javascript">
    var dummy = '{\
    "template": "email",\
    "machineName": "example-email",\
    "contentName": "Example Email",\
    "username": "mcgilljo",\
    "saved": [{"name":"heading","display":"Heading","category":"Content","css":{"fontfam":"Arial, sans-serif","fontsize":"24px","fontweight":"bold","lineheight":"normal"},"tokens":[{"text":"text"},{"bg":"bg"}],"content":{"text":"<div>Lorem Ipsum Headingum<\\/div>"},"fields":{"output":{"color":"","bg":"","padding":""},"list":[{"name":"color","result":"color"},{"name":"bg-color","result":"bg"},{"name":"padding","result":"padding"}],"uid":"ID-6I1S9U7S7S4T"},"index":["stage","0"],"custom":false,"originalDisplay":"Heading","originalCategory":"Content","markup":"<div><div style=\\"font-family: Arial, sans-serif; font-size: 24px; font-weight: bold; line-height: normal; position: relative;\\"><div>Lorem Ipsum Headingum<\\/div><\\/div> <br><\\/div>"}],\
    "customComponents": [],\
    "markup": ""\
 }';
 document.getElementById('Data').innerText = dummy;
 console.log(JSON.parse(document.getElementById('Data').innerText));
</script>
<div id="App" v-cloak>
    <toolbar :changes="changes" :user="username" :name="contentName"></toolbar>
    <sidebar :components="components" class="cmint"></sidebar>
    <overlay></overlay>
    <fields v-if="fieldsComponent" :component="fieldsComponent" :mountonly="fieldsMountOnly"></fields>
    <actionbar></actionbar>
    <custom></custom>
    <div class="cmint-notification"></div>
    <content-template 
        :fields-component="fieldsComponent" 
        :template="templateMarkup"
        :stage="stage"></content-template>
</div>

<!-- Contentmint Dependencies -->
<script src="/dist/basic/contentmint.tinymce.min.js"></script>
<script src="/dist/basic/contentmint.vendor.min.js"></script>
<script src="/dist/basic/contentmint.min.js"></script>

<!-- Implementation code -->
<script src="/example/build/example-app.js"></script>

<!-- Contentmint init -->
<script type="text/javascript">
Cmint.Init();
</script>